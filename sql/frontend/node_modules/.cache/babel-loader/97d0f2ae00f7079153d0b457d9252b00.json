{"ast":null,"code":"var _jsxFileName = \"D:\\\\LECONS-KHTN\\\\CSDL Avanc\\xE9\\\\TH\\\\sqlindex2\\\\sql\\\\frontend\\\\src\\\\pages\\\\nhaban\\\\components\\\\trangChu.js\",\n    _s = $RefreshSig$();\n\nimport { Layout, Card } from \"antd\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Column } from \"@ant-design/charts\";\nimport DoanhThu from \"./doanhThu\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Content\n} = Layout;\n\nconst TrangChu = () => {\n  _s();\n\n  const [dataChart, setDataChart] = useState({});\n  const [data, setData] = useState([{\n    name: \"Đơn hàng\",\n    date: \"Jan.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Feb.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Mar.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Apr.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"May\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Jun.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Jul.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Aug.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Sep.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Oct.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Nov.\",\n    money: 0\n  }, {\n    name: \"Đơn hàng\",\n    date: \"Dec.\",\n    money: 0\n  }]);\n  let dataW = JSON.parse(window.localStorage.getItem(\"auth\"));\n  useEffect(() => {\n    const fetchData = () => {\n      for (let i = 1; i <= 12; i++) {\n        const info1 = {\n          MaNhaBan: dataW.MaNhaBan,\n          thang: i\n        };\n        axios.post(\"http://localhost:5000/api/nhaban/thang\", JSON.stringify(info1), {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(res => {\n          const money = res.data[0].donhang;\n          const temp = data;\n          temp[i - 1] = { ...temp[i - 1],\n            money\n          };\n          setData(temp);\n          console.log(temp);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n\n      setDataChart({\n        data: data,\n        isGroup: true,\n        xField: \"date\",\n        yField: \"money\",\n        seriesField: \"name\",\n        dodgePadding: 2,\n        label: {\n          position: \"middle\",\n          layout: [{\n            type: \"interval-adjust-position\"\n          }, {\n            type: \"interval-hide-overlap\"\n          }, {\n            type: \"adjust-color\"\n          }]\n        }\n      });\n    };\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Content, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        title: \"Trang Ch\\u1EE7\",\n        title: \"Hi\\u1EC7u qu\\u1EA3 ho\\u1EA1t \\u0111\\u1ED9ng theo th\\xE1ng\",\n        extra: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/nhaban/doanhThu\",\n          children: \"Xem chi ti\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 18\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Column, { ...config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TrangChu, \"pTJzfBZwPK4KSY3eXFWssAhxWvI=\");\n\n_c = TrangChu;\nexport default TrangChu;\n\nvar _c;\n\n$RefreshReg$(_c, \"TrangChu\");","map":{"version":3,"sources":["D:/LECONS-KHTN/CSDL Avancé/TH/sqlindex2/sql/frontend/src/pages/nhaban/components/trangChu.js"],"names":["Layout","Card","React","useState","useEffect","Link","Column","DoanhThu","axios","Content","TrangChu","dataChart","setDataChart","data","setData","name","date","money","dataW","JSON","parse","window","localStorage","getItem","fetchData","i","info1","MaNhaBan","thang","post","stringify","headers","then","res","donhang","temp","console","log","catch","err","isGroup","xField","yField","seriesField","dodgePadding","label","position","layout","type","config"],"mappings":"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","sourcesContent":["import { Layout, Card } from \"antd\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {Link } from \"react-router-dom\";\r\nimport { Column } from \"@ant-design/charts\";\r\nimport DoanhThu from \"./doanhThu\";\r\nimport axios from \"axios\";\r\nconst { Content } = Layout;\r\n\r\nconst TrangChu = () => {\r\n  const [ dataChart, setDataChart ] = useState ( {} );\r\n  const [data, setData] = useState([\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Jan.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Feb.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Mar.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Apr.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"May\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Jun.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Jul.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Aug.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Sep.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Oct.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Nov.\",\r\n      money: 0,\r\n    },\r\n    {\r\n      name: \"Đơn hàng\",\r\n      date: \"Dec.\",\r\n      money: 0,\r\n    },\r\n  ]);\r\n\r\n  let dataW = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n\r\n  useEffect(() => {\r\n    const fetchData = () => {\r\n      for (let i = 1; i <= 12; i++) {\r\n        const info1 = {\r\n          MaNhaBan: dataW.MaNhaBan,\r\n          thang: i,\r\n        };\r\n        axios\r\n          .post(\"http://localhost:5000/api/nhaban/thang\", JSON.stringify(info1), {\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n          })\r\n          .then((res) => {\r\n            const money = res.data[0].donhang;\r\n            const temp = data;\r\n            temp[i-1] = { ...temp[i-1], money };\r\n            setData(temp);\r\n            console.log(temp);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n      setDataChart({ \r\n        data: data,\r\n        isGroup: true,\r\n        xField: \"date\",\r\n        yField: \"money\",\r\n        seriesField: \"name\",\r\n        dodgePadding: 2,\r\n        label: {\r\n          position: \"middle\",\r\n          layout: [\r\n            { type: \"interval-adjust-position\" },\r\n            { type: \"interval-hide-overlap\" },\r\n            { type: \"adjust-color\" },\r\n          ],\r\n        },\r\n      });\r\n    }\r\n    \r\n\r\n    \r\n  }, [data]);\r\n\r\n\r\n  return (\r\n    <Layout>\r\n      <Content>\r\n        <Card\r\n          title=\"Trang Chủ\"\r\n          title=\"Hiệu quả hoạt động theo tháng\"\r\n          extra={<Link to=\"/nhaban/doanhThu\">Xem chi tiết</Link>}\r\n        >\r\n          <Column {...config} data={data} />\r\n        </Card>\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\nexport default TrangChu;\r\n"]},"metadata":{},"sourceType":"module"}