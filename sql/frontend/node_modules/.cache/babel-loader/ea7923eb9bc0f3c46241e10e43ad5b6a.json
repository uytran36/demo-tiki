{"ast":null,"code":"\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nvar util = require(\"../util\");\n\nvar positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n  positionY(g);\n\n  _.forEach(positionX(g), function (x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n\n  _.forEach(layering, function (layer) {\n    var maxHeight = _.max(_.map(layer, function (v) {\n      return g.node(v).height;\n    }));\n\n    _.forEach(layer, function (v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n\n    prevY += maxHeight + rankSep;\n  });\n}","map":{"version":3,"sources":["D:/SQL/sqlindex2/sql/frontend/node_modules/dagre/lib/position/index.js"],"names":["_","require","util","positionX","module","exports","position","g","asNonCompoundGraph","positionY","forEach","x","v","node","layering","buildLayerMatrix","rankSep","graph","ranksep","prevY","layer","maxHeight","max","map","height","y"],"mappings":"AAAA;;AAEA,IAAIA,CAAC,GAAGC,OAAO,CAAC,WAAD,CAAf;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,SAAD,CAAlB;;AACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,MAAD,CAAP,CAAgBE,SAAhC;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,QAAjB;;AAEA,SAASA,QAAT,CAAkBC,CAAlB,EAAqB;AACnBA,EAAAA,CAAC,GAAGL,IAAI,CAACM,kBAAL,CAAwBD,CAAxB,CAAJ;AAEAE,EAAAA,SAAS,CAACF,CAAD,CAAT;;AACAP,EAAAA,CAAC,CAACU,OAAF,CAAUP,SAAS,CAACI,CAAD,CAAnB,EAAwB,UAASI,CAAT,EAAYC,CAAZ,EAAe;AACrCL,IAAAA,CAAC,CAACM,IAAF,CAAOD,CAAP,EAAUD,CAAV,GAAcA,CAAd;AACD,GAFD;AAGD;;AAED,SAASF,SAAT,CAAmBF,CAAnB,EAAsB;AACpB,MAAIO,QAAQ,GAAGZ,IAAI,CAACa,gBAAL,CAAsBR,CAAtB,CAAf;AACA,MAAIS,OAAO,GAAGT,CAAC,CAACU,KAAF,GAAUC,OAAxB;AACA,MAAIC,KAAK,GAAG,CAAZ;;AACAnB,EAAAA,CAAC,CAACU,OAAF,CAAUI,QAAV,EAAoB,UAASM,KAAT,EAAgB;AAClC,QAAIC,SAAS,GAAGrB,CAAC,CAACsB,GAAF,CAAMtB,CAAC,CAACuB,GAAF,CAAMH,KAAN,EAAa,UAASR,CAAT,EAAY;AAAE,aAAOL,CAAC,CAACM,IAAF,CAAOD,CAAP,EAAUY,MAAjB;AAA0B,KAArD,CAAN,CAAhB;;AACAxB,IAAAA,CAAC,CAACU,OAAF,CAAUU,KAAV,EAAiB,UAASR,CAAT,EAAY;AAC3BL,MAAAA,CAAC,CAACM,IAAF,CAAOD,CAAP,EAAUa,CAAV,GAAcN,KAAK,GAAGE,SAAS,GAAG,CAAlC;AACD,KAFD;;AAGAF,IAAAA,KAAK,IAAIE,SAAS,GAAGL,OAArB;AACD,GAND;AAOD","sourcesContent":["\"use strict\";\r\n\r\nvar _ = require(\"../lodash\");\r\nvar util = require(\"../util\");\r\nvar positionX = require(\"./bk\").positionX;\r\n\r\nmodule.exports = position;\r\n\r\nfunction position(g) {\r\n  g = util.asNonCompoundGraph(g);\r\n\r\n  positionY(g);\r\n  _.forEach(positionX(g), function(x, v) {\r\n    g.node(v).x = x;\r\n  });\r\n}\r\n\r\nfunction positionY(g) {\r\n  var layering = util.buildLayerMatrix(g);\r\n  var rankSep = g.graph().ranksep;\r\n  var prevY = 0;\r\n  _.forEach(layering, function(layer) {\r\n    var maxHeight = _.max(_.map(layer, function(v) { return g.node(v).height; }));\r\n    _.forEach(layer, function(v) {\r\n      g.node(v).y = prevY + maxHeight / 2;\r\n    });\r\n    prevY += maxHeight + rankSep;\r\n  });\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"script"}