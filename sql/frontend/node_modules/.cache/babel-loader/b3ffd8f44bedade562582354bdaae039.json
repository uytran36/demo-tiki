{"ast":null,"code":"var _jsxFileName = \"D:\\\\SQL\\\\sqlindex2\\\\sql\\\\frontend\\\\src\\\\pages\\\\NVQT\\\\components\\\\Promo.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { Form, Input, InputNumber, Button, Modal, Col, Row, Tooltip, Table, notification } from 'antd';\nimport { Typography } from 'antd';\nimport { DatePicker, Space } from 'antd';\nimport { Layout } from 'antd';\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Content\n} = Layout;\nconst monthFormat = 'YYYY-MM';\nconst {\n  Title\n} = Typography;\n\nfunction onChange(date, dateString) {\n  console.log(date, dateString);\n}\n\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 18\n  }\n};\nconst validateMessages = {\n  required: '${label} is required!',\n  types: {\n    number: '${label} is not a valid number!'\n  },\n  number: {\n    range: '${label} must be between ${min} and ${max}'\n  }\n};\n\nfunction TopModal(props) {\n  _s();\n\n  const [isModalVisible, setIsModalVisible] = useState(props.visible);\n  const [form] = Form.useForm();\n  const [listKhachHang, setListKhachHang] = useState([]);\n  const [ngay, setNgay] = useState(\"2020-07-01\");\n\n  const onChange = value => {\n    console.log(value);\n    setNgay(moment(value).format(\"YYYY-MM-01\"));\n  };\n\n  const onClick = () => {\n    axios.get(\"http://localhost:5000/api/NVQT/topKhachHang/\" + ngay).then(res => {\n      setListKhachHang(res.data);\n      console.log(listKhachHang);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const columns = [{\n    title: \"Mã Khách Hàng\",\n    dataIndex: \"MaKH\",\n    key: \"MaKH\"\n  }, {\n    title: \"Số tiền đã chi\",\n    key: \"TongChi\",\n    dataIndex: \"TongChi\"\n  }];\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    props.setVisibleFalse();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Basic Modal\",\n      visible: isModalVisible,\n      onCancel: handleCancel,\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Title, {\n            level: \"3\",\n            align: \"center\",\n            children: \"Top chi ti\\xEAu kh\\xE1ch h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Form, { ...layout,\n            form: form,\n            layout: \"horizontal\",\n            children: /*#__PURE__*/_jsxDEV(Input.Group, {\n              compact: true,\n              children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"NgayLap\",\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  defaultValue: moment('2020/07', monthFormat),\n                  format: monthFormat,\n                  picker: \"month\",\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"primary\",\n                  shape: \"circle\",\n                  icon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 31\n                  }, this),\n                  onClick: onClick\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            columns: columns,\n            dataSource: listKhachHang,\n            pagination: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(TopModal, \"kWN7/ENTXfuhRIXbAVHIyB7KVgM=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = TopModal;\n\nconst Promotion = () => {\n  _s2();\n\n  const [topVisible, setTopVisible] = useState(false);\n\n  const setVisibleFalse = () => {\n    setTopVisible(false);\n  };\n\n  const onClick = () => {\n    setTopVisible(true);\n  };\n\n  const openNotification = () => {\n    notification.open({\n      message: 'Chúc mừng!',\n      description: 'Bạn đã tạo Khuyến Mãi thành công',\n      onClick: () => {\n        console.log('Notification Clicked!');\n      }\n    });\n  };\n\n  const onFinish = values => {\n    const info = {\n      MaKH: values.MaKH,\n      Ten: values.Ten,\n      GiaTri: values.GiaTri,\n      HanSuDung: moment(values.HanSuDung).format(\"MM-DD-YYYY\"),\n      LuotSuDung: parseInt(values.LuotSuDung)\n    };\n    axios.post(\"http://localhost:5000/api/NVQT/taoKhuyenMai\", JSON.stringify(info), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Title, {\n        level: \"2\",\n        align: \"center\",\n        children: \"T\\u1EA1o m\\xE3 khuy\\u1EBFn m\\xE3i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Form, { ...layout,\n        validateMessages: validateMessages,\n        onFinish: onFinish,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"MaKH\",\n          label: \"Nh\\u1EADp m\\xE3 kh\\xE1ch h\\xE0ng\",\n          rules: [{\n            required: true\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"GiaTri\",\n          label: \"Ch\\u1ECDn s\\u1ED1 ti\\u1EC1n khuy\\u1EBFn m\\xE3i (\\u0110\\u01A1n v\\u1ECB 1000\\u0111)\",\n          children: /*#__PURE__*/_jsxDEV(InputNumber, {\n            min: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"Ten\",\n          label: \"T\\xEAn khuy\\u1EBFn m\\xE3i\",\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"LuotSuDung\",\n          label: \"S\\u1ED1 l\\u01B0\\u1EE3ng\",\n          rules: [{\n            required: true\n          }],\n          children: /*#__PURE__*/_jsxDEV(InputNumber, {\n            min: 1,\n            max: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"HanSuDung\",\n          label: \"Ng\\xE0y h\\u1EBFt h\\u1EA1n\",\n          rules: [{\n            required: true\n          }],\n          rules: [() => ({\n            validator(_, value) {\n              if (moment(value) > moment()) {\n                return Promise.resolve();\n              }\n\n              return Promise.reject(new Error(\"Ngày hết hạn không hợp lệ\"));\n            }\n\n          })],\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: { ...layout.wrapperCol,\n            offset: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => onClick(),\n            children: \"Xem danh s\\xE1ch kh\\xE1ch h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: { ...layout.wrapperCol,\n            offset: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            size: \"middle\",\n            onClick: openNotification,\n            children: \"X\\xE1c nh\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TopModal, {\n      visible: topVisible,\n      setVisibleFalse: setVisibleFalse\n    }, topVisible, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(Promotion, \"N4GhIJIYP/A905wmEODyMJtNb4Q=\");\n\n_c2 = Promotion;\nexport default Promotion;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TopModal\");\n$RefreshReg$(_c2, \"Promotion\");","map":{"version":3,"sources":["D:/SQL/sqlindex2/sql/frontend/src/pages/NVQT/components/Promo.js"],"names":["Form","Input","InputNumber","Button","Modal","Col","Row","Tooltip","Table","notification","Typography","DatePicker","Space","Layout","SearchOutlined","React","useState","useEffect","axios","moment","Content","monthFormat","Title","onChange","date","dateString","console","log","layout","labelCol","span","wrapperCol","validateMessages","required","types","number","range","TopModal","props","isModalVisible","setIsModalVisible","visible","form","useForm","listKhachHang","setListKhachHang","ngay","setNgay","value","format","onClick","get","then","res","data","catch","err","columns","title","dataIndex","key","handleCancel","setVisibleFalse","Promotion","topVisible","setTopVisible","openNotification","open","message","description","onFinish","values","info","MaKH","Ten","GiaTri","HanSuDung","LuotSuDung","parseInt","post","JSON","stringify","headers","validator","_","Promise","resolve","reject","Error","offset"],"mappings":"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","sourcesContent":["import { Form, Input, InputNumber, Button, Modal, Col, Row, Tooltip, Table, notification } from 'antd';\r\nimport { Typography } from 'antd';\r\nimport { DatePicker, Space } from 'antd';\r\nimport { Layout } from 'antd';\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\nconst { Content } = Layout;\r\nconst monthFormat = 'YYYY-MM';\r\nconst { Title } = Typography;\r\nfunction onChange(date, dateString) {\r\n  console.log(date, dateString);\r\n}\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 18 },\r\n};\r\n\r\nconst validateMessages = {\r\n    required: '${label} is required!',\r\n    types: {\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n  };\r\n\r\n\r\nfunction TopModal(props) {\r\n    const [isModalVisible, setIsModalVisible] = useState(props.visible);\r\n    const [form] = Form.useForm();\r\n    const [listKhachHang, setListKhachHang] = useState([])\r\n    const [ngay,setNgay] = useState(\"2020-07-01\")\r\n\r\n    const onChange = (value) => {\r\n      console.log(value)\r\n      setNgay(moment(value).format(\"YYYY-MM-01\")) \r\n    }\r\n    \r\n    const onClick = () => {\r\n      axios\r\n        .get(\"http://localhost:5000/api/NVQT/topKhachHang/\" + ngay)\r\n        .then((res) => {\r\n            setListKhachHang(res.data);\r\n            console.log(listKhachHang);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n    };\r\n    const columns = [\r\n      {\r\n        title: \"Mã Khách Hàng\",\r\n        dataIndex: \"MaKH\",\r\n        key: \"MaKH\",\r\n      },\r\n      {\r\n        title: \"Số tiền đã chi\",\r\n        key: \"TongChi\",\r\n        dataIndex: \"TongChi\",\r\n      },]\r\n\r\n    const handleCancel = () => {\r\n      setIsModalVisible(false);\r\n      props.setVisibleFalse();\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          title=\"Basic Modal\"\r\n          visible={isModalVisible}\r\n          onCancel={handleCancel}\r\n          footer={null}\r\n        >\r\n          <Layout>\r\n              <div>\r\n                  <Title level=\"3\" align=\"center\">Top chi tiêu khách hàng</Title>\r\n              </div>\r\n              <div>\r\n              <Form {...layout} form={form} layout=\"horizontal\"> \r\n              <Input.Group compact>\r\n                  <Form.Item name=\"NgayLap\">\r\n                      <DatePicker defaultValue={moment('2020/07', monthFormat)} format={monthFormat} picker=\"month\" onChange={onChange}/>\r\n                    </Form.Item>\r\n                  <Form.Item>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        shape=\"circle\"\r\n                        icon={<SearchOutlined />}\r\n                        onClick={onClick}\r\n                      />\r\n                  </Form.Item>\r\n              </Input.Group>\r\n              </Form>\r\n              </div>\r\n\r\n              <Content>\r\n                <Table columns={columns} dataSource={listKhachHang} pagination={false} />\r\n              </Content>\r\n          </Layout>  \r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n  const Promotion = () => {\r\n    const [topVisible, setTopVisible] = useState(false);\r\n\r\n    const setVisibleFalse = () => {\r\n      setTopVisible(false);\r\n    };\r\n    const onClick = () => {\r\n      setTopVisible(true);\r\n    }\r\n\r\n    const openNotification = () => {\r\n      notification.open({\r\n        message: 'Chúc mừng!',\r\n        description:\r\n          'Bạn đã tạo Khuyến Mãi thành công',\r\n        onClick: () => {\r\n          console.log('Notification Clicked!');\r\n        },\r\n      });\r\n    };\r\n\r\n    const onFinish = (values) => {\r\n      const info = {\r\n        MaKH: values.MaKH,\r\n        Ten: values.Ten,\r\n        GiaTri: values.GiaTri,\r\n        HanSuDung: moment(values.HanSuDung).format(\"MM-DD-YYYY\"),\r\n        LuotSuDung: parseInt(values.LuotSuDung),\r\n      };\r\n\r\n      axios\r\n        .post(\"http://localhost:5000/api/NVQT/taoKhuyenMai\", JSON.stringify(info), {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n\r\n\r\n    return (     \r\n        <Layout>\r\n            <div>\r\n                <Title level=\"2\" align=\"center\">Tạo mã khuyến mãi</Title>\r\n            </div>\r\n            <div>\r\n            <Form {...layout} validateMessages={validateMessages} onFinish={onFinish}>\r\n                <Form.Item name=\"MaKH\" label=\"Nhập mã khách hàng\" rules={[{ required: true }]}>\r\n                <Input />\r\n                </Form.Item>     \r\n                <Form.Item name=\"GiaTri\" label=\"Chọn số tiền khuyến mãi (Đơn vị 1000đ)\">\r\n                    <InputNumber min={1} />\r\n                </Form.Item>  \r\n                <Form.Item name=\"Ten\" label=\"Tên khuyến mãi\">\r\n                    <Input />\r\n                </Form.Item> \r\n                <Form.Item name=\"LuotSuDung\" label=\"Số lượng\" rules={[{ required: true }]}>\r\n                <InputNumber min={1} max={20} />\r\n                </Form.Item>\r\n                <Form.Item name=\"HanSuDung\" label=\"Ngày hết hạn\" rules={[{ required: true }]} \r\n                rules={[\r\n                  () => ({\r\n                  validator(_, value) {\r\n                      if (moment(value) > moment()) {\r\n                      return Promise.resolve();\r\n                      }\r\n\r\n                      return Promise.reject(\r\n                      new Error(\"Ngày hết hạn không hợp lệ\")\r\n                      );\r\n                  },\r\n                  }),\r\n              ]}>\r\n                    <DatePicker/>\r\n                </Form.Item>\r\n                \r\n                <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\r\n                <Button onClick={() => onClick()}>\r\n                    Xem danh sách khách hàng\r\n                </Button>\r\n                </Form.Item>\r\n\r\n                <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\r\n                <Button type=\"primary\" htmlType=\"submit\" size=\"middle\" onClick={openNotification}>\r\n                    Xác nhận\r\n                </Button>\r\n                </Form.Item>\r\n            </Form>\r\n            </div>\r\n            <TopModal\r\n              key={topVisible}\r\n              visible={topVisible}\r\n              setVisibleFalse={setVisibleFalse}\r\n            />\r\n        </Layout>  \r\n    );\r\n  };\r\n\r\n  export default Promotion;"]},"metadata":{},"sourceType":"module"}