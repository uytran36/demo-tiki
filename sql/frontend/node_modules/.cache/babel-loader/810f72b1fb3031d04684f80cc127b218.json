{"ast":null,"code":"var _jsxFileName = \"E:\\\\sqlindex2\\\\sql\\\\frontend\\\\src\\\\pages\\\\NVQT\\\\components\\\\DSNB.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { Table, Pagination, Space, Button, Input, Form, Select, DatePicker, Modal } from \"antd\";\nimport { Layout } from \"antd\";\nimport { Typography } from \"antd\";\nimport \"./style.css\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { EditTwoTone, DeleteTwoTone } from \"@ant-design/icons\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst dateFormat = \"YYYY-MM-DD\";\nconst {\n  Title\n} = Typography;\nconst {\n  Content\n} = Layout;\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\n\nfunction EditModal(props) {\n  _s();\n\n  const [isModalVisible, setIsModalVisible] = useState(props.visible);\n  const [form] = Form.useForm();\n\n  const handleOk = () => {\n    let TenNhaBan = form.getFieldValue(\"TenNhaBan\");\n    let SDTNhaBan = form.getFieldValue(\"SDTNhaBan\");\n    let DiaChiNhaBan = form.getFieldValue(\"DiaChiNhaBan\");\n    let MatKhauNhaBan = form.getFieldValue(\"MatKhauNhaBan\");\n    const info = {\n      TenNhaBan: TenNhaBan === undefined ? props.NhaBan.TenNhaBan : TenNhaBan,\n      SDTNhaBan: SDTNhaBan === undefined ? props.NhaBan.SDTNhaBan : SDTNhaBan,\n      DiaChiNhaBan: DiaChiNhaBan === undefined ? props.NhaBan.DiaChiNhaBan : DiaChiNhaBan,\n      MatKhauNhaBan: MatKhauNhaBan === undefined ? props.NhaBan.MatKhauNhaBan : MatKhauNhaBan\n    };\n    console.log(props.NhaBan);\n    axios.put(\"http://localhost:5000/api/NVQT/editNB/\" + props.NhaBan.MaNhaBan, JSON.stringify(info), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      console.log(res.data);\n      setIsModalVisible(false);\n      props.setVisibleFalse();\n      props.setListNhaBan(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    props.setVisibleFalse();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Basic Modal\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Title, {\n            level: \"3\",\n            align: \"center\",\n            children: \"S\\u1EEDa Nh\\xE0 B\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Form, { ...layout,\n            form: form,\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"TenNhaBan\",\n              label: \"Nh\\u1EADp t\\xEAn nh\\xE0 b\\xE1n\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                defaultValue: props.NhaBan.TenNhaBan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"EmailNhaBan\",\n              label: \"Email\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                defaultValue: props.NhaBan.EmailNhaBan,\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"MatKhauNhaBan\",\n              label: \"M\\u1EADt kh\\u1EA9u\",\n              rules: [{\n                required: true,\n                message: \"Xin vui lòng nhập mật khẩu!\"\n              }],\n              hasFeedback: true,\n              children: /*#__PURE__*/_jsxDEV(Input.Password, {\n                defaultValue: props.NhaBan.MatKhauNhaBan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"confirm\",\n              label: \"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\",\n              dependencies: [\"MatKhauNhaBan\"],\n              hasFeedback: true,\n              rules: [{\n                required: true,\n                message: \"Xin vui lòng nhập lại mật khẩu!\"\n              }, ({\n                getFieldValue\n              }) => ({\n                validator(_, value) {\n                  if (!value || getFieldValue(\"MatKhau\") === value) {\n                    return Promise.resolve();\n                  }\n\n                  return Promise.reject(new Error(\"Hai mật khẩu đã nhập không khớp!\"));\n                }\n\n              })],\n              children: /*#__PURE__*/_jsxDEV(Input.Password, {\n                defaultValue: props.NhaBan.MatKhauNhaBan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"SDTNhaBan\",\n              label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                defaultValue: props.NhaBan.SDTNhaBan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"DiaChiNhaBan\",\n              label: \"\\u0110\\u1ECBa ch\\u1EC9\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                defaultValue: props.NhaBan.DiaChiNhaBan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(EditModal, \"i7Pj/a+laW+4x15tWO/XlAaaGD0=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = EditModal;\n\nfunction DSNB() {\n  _s2();\n\n  const [listNhaBan, setListNhaBan] = useState([]);\n  const [current, setCurrent] = useState(1);\n  const [amountNB, setAmountNB] = useState(0);\n  const [NhaBan, setNhaBan] = useState({});\n  const [editVisible, setEditVisible] = useState(false);\n  const [addVisible, setAddVisible] = useState(false);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/NVQT/listNhaBan/1\").then(res => {\n      setListNhaBan(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get(\"http://localhost:5000/api/nhaban/slnb\").then(res => {\n      setAmountNB(res.data[0].slNB);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const onChange = page => {\n    setCurrent(page);\n    axios.get(\"http://localhost:5000/api/NVQT/listNhaBan/\" + page).then(res => {\n      setListNhaBan(res.data);\n    });\n  };\n\n  const onClickEdit = item => {\n    setNhaBan(item);\n    setEditVisible(true);\n  };\n\n  const setVisibleFalse = () => {\n    setEditVisible(false);\n    setAddVisible(false);\n  };\n\n  const columns = [{\n    title: \"Mã Nhà Bán\",\n    dataIndex: \"MaNhaBan\",\n    key: \"MaNhaBan\"\n  }, {\n    title: \"Tên Nhà Bán\",\n    key: \"TenNhaBan\",\n    dataIndex: \"TenNhaBan\"\n  }, {\n    title: \"Địa chỉ Nhà Bán\",\n    key: \"DiaChiNhaBan\",\n    dataIndex: \"DiaChiNhaBan\"\n  }, {\n    title: \"Email Nhà Bán\",\n    key: \"EmailNhaBan\",\n    dataIndex: \"EmailNhaBan\"\n  }, {\n    title: \"SĐT\",\n    key: \"SDTNhaBan\",\n    dataIndex: \"SDTNhaBan\"\n  }, {\n    title: \"Hành động\",\n    key: \"action\",\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: /*#__PURE__*/_jsxDEV(EditTwoTone, {\n        className: \"edit-button\",\n        onClick: () => onClickEdit(record)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        children: /*#__PURE__*/_jsxDEV(Content, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            level: 2,\n            classname: \"titlename\",\n            children: \"Danh s\\xE1ch nh\\xE0 b\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            columns: columns,\n            dataSource: listNhaBan,\n            pagination: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"paging\",\n      style: {\n        marginLeft: 500\n      },\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        current: current,\n        pageSize: 10,\n        total: amountNB,\n        onChange: onChange,\n        showSizeChanger: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(EditModal, {\n      visible: editVisible,\n      NhaBan: NhaBan,\n      setListNhaBan: setListNhaBan,\n      setVisibleFalse: setVisibleFalse\n    }, editVisible, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(DSNB, \"ysit00m70MVmbLkj17wDEaCd9nk=\");\n\n_c2 = DSNB;\nexport default DSNB;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EditModal\");\n$RefreshReg$(_c2, \"DSNB\");","map":{"version":3,"sources":["E:/sqlindex2/sql/frontend/src/pages/NVQT/components/DSNB.js"],"names":["Table","Pagination","Space","Button","Input","Form","Select","DatePicker","Modal","Layout","Typography","React","useState","useEffect","axios","EditTwoTone","DeleteTwoTone","moment","Option","dateFormat","Title","Content","layout","labelCol","span","wrapperCol","EditModal","props","isModalVisible","setIsModalVisible","visible","form","useForm","handleOk","TenNhaBan","getFieldValue","SDTNhaBan","DiaChiNhaBan","MatKhauNhaBan","info","undefined","NhaBan","console","log","put","MaNhaBan","JSON","stringify","headers","then","res","data","setVisibleFalse","setListNhaBan","catch","err","handleCancel","EmailNhaBan","required","message","validator","_","value","Promise","resolve","reject","Error","DSNB","listNhaBan","current","setCurrent","amountNB","setAmountNB","setNhaBan","editVisible","setEditVisible","addVisible","setAddVisible","get","slNB","onChange","page","onClickEdit","item","columns","title","dataIndex","key","render","record","marginLeft"],"mappings":"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","sourcesContent":["import { Table, Pagination, Space, Button, Input, Form, Select, DatePicker, Modal } from \"antd\";\r\nimport { Layout } from \"antd\";\r\nimport { Typography } from \"antd\";\r\nimport \"./style.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { EditTwoTone, DeleteTwoTone } from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\n\r\nconst { Option } = Select;\r\nconst dateFormat = \"YYYY-MM-DD\";\r\nconst { Title } = Typography;\r\nconst { Content } = Layout;\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\n\r\nfunction EditModal(props) {\r\n  const [isModalVisible, setIsModalVisible] = useState(props.visible);\r\n  const [form] = Form.useForm();\r\n\r\n  const handleOk = () => {\r\n    let TenNhaBan = form.getFieldValue(\"TenNhaBan\");\r\n    let SDTNhaBan = form.getFieldValue(\"SDTNhaBan\");\r\n    let DiaChiNhaBan = form.getFieldValue(\"DiaChiNhaBan\");\r\n    let MatKhauNhaBan = form.getFieldValue(\"MatKhauNhaBan\");\r\n\r\n    const info = {\r\n      TenNhaBan: TenNhaBan === undefined ? props.NhaBan.TenNhaBan : TenNhaBan,\r\n      SDTNhaBan: SDTNhaBan === undefined ? props.NhaBan.SDTNhaBan : SDTNhaBan,\r\n      DiaChiNhaBan: DiaChiNhaBan === undefined ? props.NhaBan.DiaChiNhaBan : DiaChiNhaBan,\r\n      MatKhauNhaBan: MatKhauNhaBan === undefined ? props.NhaBan.MatKhauNhaBan : MatKhauNhaBan,\r\n    };\r\n\r\n    console.log(props.NhaBan)\r\n    axios\r\n      .put(\"http://localhost:5000/api/NVQT/editNB/\" + props.NhaBan.MaNhaBan,\r\n        JSON.stringify(info),\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setIsModalVisible(false);\r\n        props.setVisibleFalse();\r\n        props.setListNhaBan(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    props.setVisibleFalse();\r\n  };\r\n\r\n  \r\n  return (\r\n    <>\r\n      <Modal\r\n        title=\"Basic Modal\"\r\n        visible={isModalVisible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        <Layout>\r\n            <div>\r\n                <Title level=\"3\" align=\"center\">Sửa Nhà Bán</Title>\r\n            </div>\r\n            <div>\r\n            <Form {...layout} form={form}>  \r\n                <Form.Item name=\"TenNhaBan\" label=\"Nhập tên nhà bán\"  >\r\n                    <Input defaultValue={props.NhaBan.TenNhaBan} />\r\n                </Form.Item>    \r\n                <Form.Item name=\"EmailNhaBan\" label=\"Email\" >\r\n                    <Input defaultValue={props.NhaBan.EmailNhaBan} disabled={true} />\r\n                </Form.Item>\r\n                \r\n                <Form.Item\r\n                name=\"MatKhauNhaBan\"\r\n                label=\"Mật khẩu\"\r\n                rules={[\r\n                    {\r\n                    required: true,\r\n                    message: \"Xin vui lòng nhập mật khẩu!\",\r\n                    },\r\n                ]}\r\n                hasFeedback\r\n                >\r\n                <Input.Password defaultValue = {props.NhaBan.MatKhauNhaBan} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                name=\"confirm\"\r\n                label=\"Xác nhận mật khẩu\"\r\n                dependencies={[\"MatKhauNhaBan\"]}\r\n                hasFeedback\r\n                rules={[\r\n                    {\r\n                    required: true,\r\n                    message: \"Xin vui lòng nhập lại mật khẩu!\",\r\n                    },\r\n                    ({ getFieldValue }) => ({\r\n                    validator(_, value) {\r\n                        if (!value || getFieldValue(\"MatKhau\") === value) {\r\n                        return Promise.resolve();\r\n                        }\r\n\r\n                        return Promise.reject(\r\n                        new Error(\"Hai mật khẩu đã nhập không khớp!\")\r\n                        );\r\n                    },\r\n                    }),\r\n                ]}\r\n                >\r\n                <Input.Password defaultValue = {props.NhaBan.MatKhauNhaBan}/>\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"SDTNhaBan\" label=\"Số điện thoại\" >\r\n                    <Input defaultValue={props.NhaBan.SDTNhaBan} />\r\n                </Form.Item>\r\n                <Form.Item name=\"DiaChiNhaBan\" label=\"Địa chỉ\" >\r\n                    <Input defaultValue={props.NhaBan.DiaChiNhaBan} />\r\n                </Form.Item>\r\n            </Form>\r\n            </div>\r\n        </Layout>  \r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nfunction DSNB() {\r\n    const [listNhaBan, setListNhaBan] = useState([]);\r\n    const [current, setCurrent] = useState(1);\r\n    const [amountNB, setAmountNB] = useState(0);\r\n    const [NhaBan, setNhaBan] = useState({});\r\n    const [editVisible, setEditVisible] = useState(false);\r\n    const [addVisible, setAddVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios\r\n          .get(\"http://localhost:5000/api/NVQT/listNhaBan/1\")\r\n          .then((res) => {\r\n            setListNhaBan(res.data);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n\r\n        axios\r\n          .get(\"http://localhost:5000/api/nhaban/slnb\")\r\n          .then((res) => {\r\n            setAmountNB(res.data[0].slNB);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          })\r\n      }, []);\r\n\r\n    const onChange = (page) => {\r\n        setCurrent(page);\r\n        axios.get(\"http://localhost:5000/api/NVQT/listNhaBan/\" + page).then((res) => {\r\n            setListNhaBan(res.data);\r\n        });\r\n    };\r\n\r\n    const onClickEdit = (item) => {\r\n      setNhaBan(item);\r\n      setEditVisible(true);\r\n    };\r\n  \r\n\r\n    const setVisibleFalse = () => {\r\n      setEditVisible(false);\r\n      setAddVisible(false);\r\n    };\r\n\r\n    const columns = [\r\n      {\r\n        title: \"Mã Nhà Bán\",\r\n        dataIndex: \"MaNhaBan\",\r\n        key: \"MaNhaBan\",\r\n      },\r\n      {\r\n        title: \"Tên Nhà Bán\",\r\n        key: \"TenNhaBan\",\r\n        dataIndex: \"TenNhaBan\",\r\n      },\r\n      {\r\n        title: \"Địa chỉ Nhà Bán\",\r\n        key: \"DiaChiNhaBan\",\r\n        dataIndex: \"DiaChiNhaBan\",\r\n      },\r\n      {\r\n        title: \"Email Nhà Bán\",\r\n        key: \"EmailNhaBan\",\r\n        dataIndex: \"EmailNhaBan\",\r\n      },\r\n      {\r\n        title: \"SĐT\",\r\n        key: \"SDTNhaBan\",\r\n        dataIndex: \"SDTNhaBan\",\r\n      },\r\n      {\r\n        title: \"Hành động\",\r\n        key: \"action\",\r\n        render: (_, record) => (\r\n          <Space size=\"middle\">\r\n            <EditTwoTone\r\n              className=\"edit-button\"\r\n              onClick={() => onClickEdit(record)}\r\n            />\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n    \r\n  return (\r\n    <div>\r\n        <div>\r\n      <Layout>\r\n        <Content>\r\n          <Title level={2} classname=\"titlename\">\r\n            Danh sách nhà bán\r\n          </Title>\r\n          <Table columns={columns} dataSource={listNhaBan} pagination={false} />\r\n        </Content>\r\n      </Layout>\r\n    </div>\r\n\r\n    <div className=\"paging\" style={{ marginLeft: 500 }}>\r\n        <Pagination\r\n        current={current}\r\n        pageSize={10}\r\n        total={amountNB}\r\n        onChange={onChange}\r\n        showSizeChanger={false}\r\n        />\r\n    </div>\r\n\r\n        <EditModal\r\n          key={editVisible}\r\n          visible={editVisible}\r\n          NhaBan={NhaBan}\r\n          setListNhaBan={setListNhaBan}\r\n          setVisibleFalse={setVisibleFalse}\r\n        />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DSNB;\r\n"]},"metadata":{},"sourceType":"module"}