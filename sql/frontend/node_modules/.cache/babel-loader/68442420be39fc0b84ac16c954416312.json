{"ast":null,"code":"var _jsxFileName = \"D:\\\\SQL\\\\sqlindex2\\\\sql\\\\frontend\\\\src\\\\pages\\\\khachhang\\\\components\\\\product\\\\productDetail\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Image, Row, Col, Button, InputNumber, Card, Tag, Avatar, notification } from \"antd\";\nimport Icon from \"@ant-design/icons\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StarSvg = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  height: \"15px\",\n  viewBox: \"0 -10 511.98685 511\",\n  width: \"15px\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\",\n    fill: \"#ffc107\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n\n_c = StarSvg;\n\nconst StarIcon = props => /*#__PURE__*/_jsxDEV(Icon, {\n  component: StarSvg,\n  ...props\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 25,\n  columnNumber: 29\n}, this);\n\n_c2 = StarIcon;\n\nconst description = /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [\"4.2/5 \", /*#__PURE__*/_jsxDEV(StarIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 11\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 28,\n  columnNumber: 3\n}, this);\n\nfunction ProductDetail() {\n  _s();\n\n  const [product, setProduct] = useState({});\n  const [store, setStore] = useState({});\n  const [reviews, setReviews] = useState([]);\n  const [pointReview, setPointReview] = useState(0);\n  const [buyAmount, setBuyAmount] = useState(0);\n  useEffect(() => {\n    const path = window.location.pathname;\n    const id = path.split(\"/\")[2];\n    axios.get(\"http://localhost:5000/api/ctsp/\" + id).then(res => {\n      if (res.data.lenght !== 0) {\n        setProduct(res.data[0]);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get(\"http://localhost:5000/api/nbsp/\" + id).then(res => {\n      if (res.data.lenght !== 0) {\n        setStore(res.data[0]);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get(\"http://localhost:5000/api/review/\" + id).then(res => {\n      if (res.data.length !== 0) {\n        setReviews(res.data);\n        let count = 0;\n        let point = 0;\n\n        for (let item of res.data) {\n          point += item.DiemDanhGia;\n          count++;\n        }\n\n        let tot = point / count;\n        setPointReview(tot.toFixed(1));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  const {\n    Meta\n  } = Card;\n\n  function onChange(value) {\n    setBuyAmount(value);\n  }\n\n  const onClickBuy = () => {\n    let temp = window.localStorage.getItem(\"cart\");\n\n    if (temp.length !== 0) {\n      let cart = JSON.parse(temp);\n    }\n\n    notification.open({\n      message: \"Thông báo\",\n      description: `Đã thêm sản phẩm ${product.TenSP} vào giỏ hàng của bạn`\n    });\n    console.log(cart); // cart.push({\n    //   MaSP: product.maSP,\n    //   SoLuong: buyAmount,\n    // })\n    // window.localStorage.setItem('cart', JSON.stringify(cart));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 50\n    },\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        offset: 3,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            flex: \"520px\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              width: 500,\n              src: product.url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            flex: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                flex: \"auto\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: 30\n                    },\n                    children: product.TenSP\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      paddingBottom: 150\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: 25\n                      },\n                      children: \"M\\xF4 t\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: 20\n                      },\n                      children: product.MoTaSP\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      fontSize: 30\n                    },\n                    children: [product.ThanhTienSP, \".000 \\u0110\\u1ED3ng\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(Tag, {\n                      color: \"#ff424e\",\n                      children: [\"-\", Math.ceil(product.GiaGiamSP / product.GiaBanSP * 100), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 20\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 18\n                    },\n                    children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(InputNumber, {\n                    min: 1,\n                    max: 10,\n                    defaultValue: 1,\n                    onChange: onChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 10\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"primary\",\n                    danger: true,\n                    size: \"large\",\n                    onClick: onClickBuy,\n                    children: \"Ch\\u1ECDn mua\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                flex: \"auto\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-owner\",\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    style: {\n                      width: 300\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Meta, {\n                      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                        src: \"https://salt.tikicdn.com/ts/seller/4b/54/1a/f385a79a716cb3505f152e7af8c769aa.png\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 162,\n                        columnNumber: 27\n                      }, this),\n                      title: store.TenNhaBan,\n                      description: description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        offset: 3,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment\",\n          style: {\n            marginTop: 50\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 25\n            },\n            children: \"\\u0110\\xE1nh gi\\xE1 - Nh\\u1EADn x\\xE9t t\\u1EEB kh\\xE1ch h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 20\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: [pointReview, \"/5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StarIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), reviews.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 20\n              },\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                title: item.Ten,\n                style: {\n                  width: 1500\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: [item.DiemDanhGia, \"/5\", /*#__PURE__*/_jsxDEV(StarIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: item.MoTa\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductDetail, \"MsVI3KSx4CknozWK4Uqg5MmtiFI=\");\n\n_c3 = ProductDetail;\nexport default ProductDetail;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"StarSvg\");\n$RefreshReg$(_c2, \"StarIcon\");\n$RefreshReg$(_c3, \"ProductDetail\");","map":{"version":3,"sources":["D:/SQL/sqlindex2/sql/frontend/src/pages/khachhang/components/product/productDetail/index.js"],"names":["Image","Row","Col","Button","InputNumber","Card","Tag","Avatar","notification","Icon","useState","useEffect","axios","StarSvg","StarIcon","props","description","ProductDetail","product","setProduct","store","setStore","reviews","setReviews","pointReview","setPointReview","buyAmount","setBuyAmount","path","window","location","pathname","id","split","get","then","res","data","lenght","catch","err","console","log","length","count","point","item","DiemDanhGia","tot","toFixed","Meta","onChange","value","onClickBuy","temp","localStorage","getItem","cart","JSON","parse","open","message","TenSP","marginTop","url","fontSize","paddingBottom","MoTaSP","ThanhTienSP","Math","ceil","GiaGiamSP","GiaBanSP","width","TenNhaBan","map","Ten","MoTa"],"mappings":"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","sourcesContent":["import {\r\n  Image,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  InputNumber,\r\n  Card,\r\n  Tag,\r\n  Avatar,\r\n  notification,\r\n} from \"antd\";\r\nimport Icon from \"@ant-design/icons\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst StarSvg = () => (\r\n  <svg height=\"15px\" viewBox=\"0 -10 511.98685 511\" width=\"15px\">\r\n    <path\r\n      d=\"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\"\r\n      fill=\"#ffc107\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nconst StarIcon = (props) => <Icon component={StarSvg} {...props} />;\r\n\r\nconst description = (\r\n  <div>\r\n    4.2/5 <StarIcon />\r\n  </div>\r\n);\r\n\r\nfunction ProductDetail() {\r\n  const [product, setProduct] = useState({});\r\n  const [store, setStore] = useState({});\r\n  const [reviews, setReviews] = useState([]);\r\n  const [pointReview, setPointReview] = useState(0);\r\n  const [buyAmount, setBuyAmount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const path = window.location.pathname;\r\n    const id = path.split(\"/\")[2];\r\n    axios\r\n      .get(\"http://localhost:5000/api/ctsp/\" + id)\r\n      .then((res) => {\r\n        if (res.data.lenght !== 0) {\r\n          setProduct(res.data[0]);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    axios\r\n      .get(\"http://localhost:5000/api/nbsp/\" + id)\r\n      .then((res) => {\r\n        if (res.data.lenght !== 0) {\r\n          setStore(res.data[0]);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    axios\r\n      .get(\"http://localhost:5000/api/review/\" + id)\r\n      .then((res) => {\r\n        if (res.data.length !== 0) {\r\n          setReviews(res.data);\r\n\r\n          let count = 0;\r\n          let point = 0;\r\n          for (let item of res.data) {\r\n            point += item.DiemDanhGia;\r\n            count++;\r\n          }\r\n          let tot = point / count;\r\n          setPointReview(tot.toFixed(1));\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const { Meta } = Card;\r\n  function onChange(value) {\r\n    setBuyAmount(value);\r\n  }\r\n\r\n  const onClickBuy = () => {\r\n    let temp = window.localStorage.getItem(\"cart\");\r\n    if(temp.length !== 0) {\r\n      let cart = JSON.parse(temp);\r\n    }\r\n   \r\n    notification.open({\r\n      message: \"Thông báo\",\r\n      description: `Đã thêm sản phẩm ${product.TenSP} vào giỏ hàng của bạn`,\r\n    });\r\n    console.log(cart);\r\n    // cart.push({\r\n    //   MaSP: product.maSP,\r\n    //   SoLuong: buyAmount,\r\n    // })\r\n    // window.localStorage.setItem('cart', JSON.stringify(cart));\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: 50 }}>\r\n      <Row>\r\n        <Col span={24} offset={3}>\r\n          <Row>\r\n            <Col flex=\"520px\">\r\n              <Image width={500} src={product.url} />\r\n            </Col>\r\n            <Col flex=\"auto\">\r\n              <Row>\r\n                <Col flex=\"auto\">\r\n                  <div className=\"product-content\">\r\n                    <p style={{ fontSize: 30 }}>{product.TenSP}</p>\r\n                    <div style={{ paddingBottom: 150 }}>\r\n                      <div style={{ fontSize: 25 }}>Mô tả</div>\r\n                      <div style={{ fontSize: 20 }}>{product.MoTaSP}</div>\r\n                    </div>\r\n                    <b style={{ fontSize: 30 }}>\r\n                      {product.ThanhTienSP}.000 Đồng\r\n                    </b>\r\n                    <div>\r\n                      <Tag color=\"#ff424e\">\r\n                        -\r\n                        {Math.ceil(\r\n                          (product.GiaGiamSP / product.GiaBanSP) * 100\r\n                        )}\r\n                        %\r\n                      </Tag>\r\n                    </div>\r\n                    <div style={{ marginTop: 20 }}></div>\r\n                    <div style={{ fontSize: 18 }}>Số lượng</div>\r\n                    <InputNumber\r\n                      min={1}\r\n                      max={10}\r\n                      defaultValue={1}\r\n                      onChange={onChange}\r\n                    />\r\n                    <div style={{ marginTop: 10 }}></div>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      danger\r\n                      size=\"large\"\r\n                      onClick={onClickBuy}\r\n                    >\r\n                      Chọn mua\r\n                    </Button>\r\n                  </div>\r\n                </Col>\r\n                <Col flex=\"auto\">\r\n                  <div className=\"product-owner\">\r\n                    <Card style={{ width: 300 }}>\r\n                      <Meta\r\n                        avatar={\r\n                          <Avatar src=\"https://salt.tikicdn.com/ts/seller/4b/54/1a/f385a79a716cb3505f152e7af8c769aa.png\" />\r\n                        }\r\n                        title={store.TenNhaBan}\r\n                        description={description}\r\n                      />\r\n                    </Card>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24} offset={3}>\r\n          <div className=\"comment\" style={{ marginTop: 50 }}>\r\n            <div style={{ fontSize: 25 }}>\r\n              Đánh giá - Nhận xét từ khách hàng\r\n            </div>\r\n            <div style={{ fontSize: 20 }}>\r\n              <b>{pointReview}/5</b>\r\n              <StarIcon />\r\n            </div>\r\n            {reviews.map((item) => {\r\n              return (\r\n                <div style={{ marginTop: 20 }}>\r\n                  <Card title={item.Ten} style={{ width: 1500 }}>\r\n                    <b>\r\n                      {item.DiemDanhGia}/5\r\n                      <StarIcon />\r\n                    </b>\r\n                    <div>{item.MoTa}</div>\r\n                  </Card>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductDetail;\r\n"]},"metadata":{},"sourceType":"module"}