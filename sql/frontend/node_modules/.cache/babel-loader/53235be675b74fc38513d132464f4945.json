{"ast":null,"code":"var _jsxFileName = \"D:\\\\SQL\\\\sqlindex2\\\\sql\\\\frontend\\\\src\\\\pages\\\\khachhang\\\\components\\\\profile\\\\components\\\\MainProfile.js\",\n    _s = $RefreshSig$();\n\nimport { Form, Input, Select, Button, DatePicker, Row, Col, Card, notification } from \"antd\";\nimport { CheckCircleTwoTone } from \"@ant-design/icons\";\nimport { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport \"./MainProfile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 10\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 10\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0\n    },\n    sm: {\n      span: 16,\n      offset: 8\n    }\n  }\n};\n\nconst TikiXu = ({\n  kh\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Tiki xu c\\u1EE7a t\\xF4i\",\n      style: {\n        width: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"B\\u1EA1n c\\xF3 \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: kh.TikiXu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 18\n        }, this), \" Tiki xu trong t\\xE0i kho\\u1EA3n\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_c = TikiXu;\n\nconst MainProfile = () => {\n  _s();\n\n  const [kh, setKh] = useState(JSON.parse(window.localStorage.getItem(\"KH\")));\n  const [form] = Form.useForm();\n  useEffect(() => {\n    setKh(JSON.parse(window.localStorage.getItem(\"KH\")));\n  }, []);\n\n  const onFinish = values => {\n    let listAddress = [];\n\n    if (values.DiaChi === undefined) {\n      listAddress.push(kh.SoNha);\n      listAddress.push(kh.Duong);\n      listAddress.push(kh.Phuong);\n      listAddress.push(kh.Quan);\n      listAddress.push(kh.ThanhPho);\n    } else {\n      listAddress = values.address.split(\", \");\n    }\n\n    const info = {\n      MaKH: kh.MaKH,\n      Email: values.email === undefined ? kh.Email : values.Email,\n      MatKhau: values.MatKhau === undefined ? kh.MatKhau : values.MatKhau,\n      Ten: values.Ten === undefined ? kh.Ten : values.Ten,\n      NgaySinh: values.NgaySinh === undefined ? kh.NgaySinh : moment(values.NgaySinh).format(\"MM-DD-YYYY\"),\n      Sdt: values.Sdt === undefined ? kh.Sdt : values.Sdt,\n      GioiTinh: values.GioiTinh === undefined ? kh.GioiTinh : values.GioiTinh === \"male\" ? \"Nam\" : \"Nữ\",\n      SoNha: listAddress[0],\n      Duong: listAddress[1],\n      Phuong: listAddress[2],\n      Quan: listAddress[3],\n      ThanhPho: listAddress[4],\n      TikiXu: kh.TikiXu\n    };\n    console.log(info);\n    axios.put(\"http://localhost:5000/api/khachhang/\" + kh.MaKH, JSON.stringify(info), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      notification.open({\n        message: \"Thông báo\",\n        description: \"Cập nhật thành công!\",\n        icon: /*#__PURE__*/_jsxDEV(CheckCircleTwoTone, {\n          twoToneColor: \"#52c41a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this)\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    window.localStorage.setItem(\"KH\", JSON.stringify(info));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-form\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 18,\n        children: /*#__PURE__*/_jsxDEV(Form, { ...formItemLayout,\n          form: form,\n          name: \"register\",\n          onFinish: onFinish,\n          scrollToFirstError: true,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"email\",\n            label: \"E-mail\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              disabled: true,\n              defaultValue: kh.Email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"MatKhau\",\n            label: \"M\\u1EADt kh\\u1EA9u\",\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {\n              defaultValue: kh.MatKhau\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"Ten\",\n            label: \"H\\u1ECD t\\xEAn\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              defaultValue: kh.Ten\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"NgaySinh\",\n            label: \"Ng\\xE0y sinh\",\n            tooltip: \"Ng\\xE0y sinh c\\u1EE7a b\\u1EA1n l\\xE0 g\\xEC?\",\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              defaultValue: moment(kh.NgaySinh),\n              className: \"date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"Sdt\",\n            label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              style: {\n                width: \"100%\"\n              },\n              defaultValue: kh.Sdt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"GioiTinh\",\n            label: \"Gi\\u1EDBi t\\xEDnh\",\n            children: /*#__PURE__*/_jsxDEV(Select, {\n              placeholder: \"Ch\\u1ECDn gi\\u1EDBi t\\xEDnh\",\n              defaultValue: kh === \"Nam\" ? \"male\" : \"female\",\n              children: [/*#__PURE__*/_jsxDEV(Option, {\n                value: \"male\",\n                children: \"Nam\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"female\",\n                children: \"N\\u1EEF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"DiaChi\",\n            label: \"\\u0110\\u1ECBa ch\\u1EC9\",\n            tooltip: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 theo \\u0111\\u1ECBnh d\\u1EA1ng: s\\u1ED1 nh\\xE0, \\u0111\\u01B0\\u1EDDng, ph\\u01B0\\u1EDDng, qu\\u1EADn, th\\xE0nh ph\\u1ED1\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              defaultValue: kh.SoNha.trim() + \", \" + kh.Duong.trim() + \", Phường \" + kh.Phuong.trim() + \", Quận \" + kh.Quan.trim() + \" \" + kh.ThanhPho.trim()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...tailFormItemLayout,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"C\\u1EADp nh\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 4,\n        children: /*#__PURE__*/_jsxDEV(TikiXu, {\n          kh: kh\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MainProfile, \"pFwTM6C9rqaog5YiBfzYDwgQ8x8=\", false, function () {\n  return [Form.useForm];\n});\n\n_c2 = MainProfile;\nexport default MainProfile;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TikiXu\");\n$RefreshReg$(_c2, \"MainProfile\");","map":{"version":3,"sources":["D:/SQL/sqlindex2/sql/frontend/src/pages/khachhang/components/profile/components/MainProfile.js"],"names":["Form","Input","Select","Button","DatePicker","Row","Col","Card","notification","CheckCircleTwoTone","useState","useEffect","moment","axios","Option","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","TikiXu","kh","width","MainProfile","setKh","JSON","parse","window","localStorage","getItem","form","useForm","onFinish","values","listAddress","DiaChi","undefined","push","SoNha","Duong","Phuong","Quan","ThanhPho","address","split","info","MaKH","Email","email","MatKhau","Ten","NgaySinh","format","Sdt","GioiTinh","console","log","put","stringify","headers","then","res","open","message","description","icon","catch","err","setItem","trim"],"mappings":"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","sourcesContent":["import {\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Button,\r\n  DatePicker,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  notification,\r\n} from \"antd\";\r\nimport { CheckCircleTwoTone } from \"@ant-design/icons\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport \"./MainProfile.css\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: {\r\n      span: 10,\r\n    },\r\n    sm: {\r\n      span: 8,\r\n    },\r\n  },\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 10,\r\n    },\r\n    sm: {\r\n      span: 16,\r\n    },\r\n  },\r\n};\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 16,\r\n      offset: 8,\r\n    },\r\n  },\r\n};\r\n\r\nconst TikiXu = ({ kh }) => {\r\n  return (\r\n    <div>\r\n      <Card title=\"Tiki xu của tôi\" style={{ width: 300 }}>\r\n        <div>\r\n          Bạn có <b>{kh.TikiXu}</b> Tiki xu trong tài khoản\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MainProfile = () => {\r\n  const [kh, setKh] = useState(JSON.parse(window.localStorage.getItem(\"KH\")));\r\n\r\n  \r\n  const [form] = Form.useForm();\r\nuseEffect(() => {\r\n    setKh(JSON.parse(window.localStorage.getItem(\"KH\")));\r\n  }, []);\r\n  const onFinish = (values) => {\r\n    let listAddress = [];\r\n    if (values.DiaChi === undefined) {\r\n      listAddress.push(kh.SoNha);\r\n      listAddress.push(kh.Duong);\r\n      listAddress.push(kh.Phuong);\r\n      listAddress.push(kh.Quan);\r\n      listAddress.push(kh.ThanhPho);\r\n    } else {\r\n      listAddress = values.address.split(\", \");\r\n    }\r\n\r\n    const info = {\r\n      MaKH: kh.MaKH,\r\n      Email: values.email === undefined ? kh.Email : values.Email,\r\n      MatKhau: values.MatKhau === undefined ? kh.MatKhau : values.MatKhau,\r\n      Ten: values.Ten === undefined ? kh.Ten : values.Ten,\r\n      NgaySinh:\r\n        values.NgaySinh === undefined\r\n          ? kh.NgaySinh\r\n          : moment(values.NgaySinh).format(\"MM-DD-YYYY\"),\r\n      Sdt: values.Sdt === undefined ? kh.Sdt : values.Sdt,\r\n      GioiTinh:\r\n        values.GioiTinh === undefined\r\n          ? kh.GioiTinh\r\n          : values.GioiTinh === \"male\"\r\n          ? \"Nam\"\r\n          : \"Nữ\",\r\n      SoNha: listAddress[0],\r\n      Duong: listAddress[1],\r\n      Phuong: listAddress[2],\r\n      Quan: listAddress[3],\r\n      ThanhPho: listAddress[4],\r\n      TikiXu: kh.TikiXu,\r\n    };\r\n\r\n    console.log(info);\r\n    axios\r\n      .put(\r\n        \"http://localhost:5000/api/khachhang/\" + kh.MaKH,\r\n        JSON.stringify(info),\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        notification.open({\r\n          message: \"Thông báo\",\r\n          description: \"Cập nhật thành công!\",\r\n          icon: <CheckCircleTwoTone twoToneColor=\"#52c41a\" />,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    window.localStorage.setItem(\"KH\", JSON.stringify(info));\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-form\">\r\n      <Row>\r\n        <Col span={18}>\r\n          <Form\r\n            {...formItemLayout}\r\n            form={form}\r\n            name=\"register\"\r\n            onFinish={onFinish}\r\n            scrollToFirstError\r\n          >\r\n            <Form.Item name=\"email\" label=\"E-mail\">\r\n              <Input disabled={true} defaultValue={kh.Email} />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"MatKhau\" label=\"Mật khẩu\">\r\n              <Input.Password defaultValue={kh.MatKhau} />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"Ten\" label=\"Họ tên\">\r\n              <Input defaultValue={kh.Ten} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"NgaySinh\"\r\n              label=\"Ngày sinh\"\r\n              tooltip=\"Ngày sinh của bạn là gì?\"\r\n            >\r\n              <DatePicker defaultValue={moment(kh.NgaySinh)} className=\"date\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"Sdt\" label=\"Số điện thoại\">\r\n              <Input\r\n                style={{\r\n                  width: \"100%\",\r\n                }}\r\n                defaultValue={kh.Sdt}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"GioiTinh\" label=\"Giới tính\">\r\n              <Select\r\n                placeholder=\"Chọn giới tính\"\r\n                defaultValue={kh === \"Nam\" ? \"male\" : \"female\"}\r\n              >\r\n                <Option value=\"male\">Nam</Option>\r\n                <Option value=\"female\">Nữ</Option>\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"DiaChi\"\r\n              label=\"Địa chỉ\"\r\n              tooltip=\"Nhập địa chỉ theo định dạng: số nhà, đường, phường, quận, thành phố\"\r\n            >\r\n              <Input\r\n                defaultValue={\r\n                  kh.SoNha.trim() +\r\n                  \", \" +\r\n                  kh.Duong.trim() +\r\n                  \", Phường \" +\r\n                  kh.Phuong.trim() +\r\n                  \", Quận \" +\r\n                  kh.Quan.trim() +\r\n                  \" \" +\r\n                  kh.ThanhPho.trim()\r\n                }\r\n              />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Cập nhật\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Col>\r\n        <Col span={4}>\r\n          <TikiXu kh={kh} />\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainProfile;\r\n"]},"metadata":{},"sourceType":"module"}