{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useEffect } from 'react';\nimport G6 from '@antv/g6';\nimport { ErrorBoundary } from '../../../base';\nimport useGraph from '../../../hooks/useGraph';\nimport ChartLoading from '../../../util/createLoading';\nimport { getGraphSize, getGraphId, useProps } from '../utils';\nimport { bindDefaultEvents, renderGraph, getDefaultEdgeArrowCfg } from '../utils';\nimport { registerCardNode } from '../customItems';\nimport { defaultNodeAnchorPoints, defaultNodeSize, defaultStateStyles, defaultNodeStyle } from '../constants';\nvar graphs = {};\nregisterCardNode();\nvar defaultLayout = {\n  type: 'compactBox',\n  direction: 'LR',\n  getId: function (d) {\n    return d.id;\n  },\n  getHeight: function () {\n    return 60;\n  },\n  getWidth: function () {\n    return 16;\n  },\n  getVGap: function () {\n    return 16;\n  },\n  getHGap: function () {\n    return 100;\n  }\n};\nvar defaultProps = {\n  nodeType: 'card',\n  edgeType: 'cubic-horizontal',\n  behaviors: ['zoom-canvas', 'drag-canvas'],\n  nodeAnchorPoints: defaultNodeAnchorPoints,\n  nodeSize: defaultNodeSize,\n  layout: defaultLayout,\n  animate: true,\n  markerPosition: 'right',\n  nodeStateStyles: defaultStateStyles,\n  edgeStateStyles: defaultStateStyles,\n  collapseExpand: true,\n  showArrow: true,\n  arrowType: 'vee',\n  autoFit: true,\n  style: {\n    height: 'inherit'\n  }\n};\n\nvar IndentedTreeGraph = function (props) {\n  var uProps = useProps(props, defaultProps);\n  var data = uProps.data,\n      className = uProps.className,\n      style = uProps.style,\n      width = uProps.width,\n      height = uProps.height,\n      _a = uProps.nodeType,\n      nodeType = _a === void 0 ? 'card' : _a,\n      _b = uProps.edgeType,\n      edgeType = _b === void 0 ? 'cubic-horizontal' : _b,\n      _c = uProps.behaviors,\n      behaviors = _c === void 0 ? ['zoom-canvas', 'drag-canvas'] : _c,\n      _d = uProps.nodeAnchorPoints,\n      nodeAnchorPoints = _d === void 0 ? defaultNodeAnchorPoints : _d,\n      _e = uProps.nodeSize,\n      nodeSize = _e === void 0 ? defaultNodeSize : _e,\n      layout = uProps.layout,\n      _f = uProps.animate,\n      animate = _f === void 0 ? true : _f,\n      nodeStyle = uProps.nodeStyle,\n      edgeStyle = uProps.edgeStyle,\n      edgeCfg = uProps.edgeCfg,\n      markerStyle = uProps.markerStyle,\n      _g = uProps.markerPosition,\n      markerPosition = _g === void 0 ? 'right' : _g,\n      _h = uProps.nodeStateStyles,\n      nodeStateStyles = _h === void 0 ? defaultStateStyles : _h,\n      _j = uProps.edgeStateStyles,\n      edgeStateStyles = _j === void 0 ? defaultStateStyles : _j,\n      _k = uProps.collapseExpand,\n      collapseExpand = _k === void 0 ? true : _k,\n      titleStyle = uProps.titleStyle,\n      bodyStyle = uProps.bodyStyle,\n      footerStyle = uProps.footerStyle,\n      footerValueStyle = uProps.footerValueStyle,\n      _l = uProps.showArrow,\n      showArrow = _l === void 0 ? true : _l,\n      _m = uProps.arrowType,\n      arrowType = _m === void 0 ? 'vee' : _m,\n      _o = uProps.autoFit,\n      autoFit = _o === void 0 ? true : _o,\n      onReady = uProps.onReady,\n      loading = uProps.loading,\n      loadingTemplate = uProps.loadingTemplate,\n      errorTemplate = uProps.errorTemplate;\n  var container = React.useRef(null);\n  var graph = React.useRef(null);\n  var graphId = getGraphId(graph);\n  useGraph(graphs[graphId], uProps, container);\n  useEffect(function () {\n    var graphSize = getGraphSize(width, height, container);\n    var graph = graphs[graphId];\n\n    if (!graph) {\n      graph = new G6.TreeGraph({\n        container: container.current,\n        width: graphSize[0],\n        height: graphSize[1],\n        animate: animate,\n        modes: {\n          default: behaviors\n        },\n        defaultNode: {\n          type: nodeType,\n          size: nodeSize,\n          anchorPoints: nodeAnchorPoints,\n          titleStyle: titleStyle,\n          bodyStyle: bodyStyle,\n          footerStyle: footerStyle,\n          footerValueStyle: footerValueStyle,\n          markerStyle: markerStyle,\n          collapseExpand: collapseExpand,\n          markerPosition: markerPosition\n        },\n        defaultEdge: {\n          type: edgeType\n        },\n        nodeStateStyles: nodeStateStyles,\n        edgeStateStyles: edgeStateStyles,\n        layout: layout\n      });\n      graphs[graphId] = graph;\n    }\n\n    graph.node(function (node) {\n      if (typeof nodeStyle === 'function') {\n        return {\n          style: nodeStyle(node, graph)\n        };\n      }\n\n      return {\n        style: __assign(__assign({}, defaultNodeStyle), nodeStyle)\n      };\n    });\n    graph.edge(function (edge) {\n      if (edgeCfg) {\n        return typeof edgeCfg === 'function' ? edgeCfg(edge, graph) : edgeCfg;\n      }\n\n      if (typeof edgeStyle === 'function') {\n        return {\n          style: edgeStyle(edge, graph)\n        };\n      }\n\n      return {\n        style: __assign(__assign({\n          stroke: '#ccc'\n        }, showArrow && getDefaultEdgeArrowCfg(0, arrowType)), edgeStyle)\n      };\n    });\n\n    if (collapseExpand) {\n      bindDefaultEvents(graph, collapseExpand);\n    }\n\n    renderGraph(graph, data, autoFit);\n\n    if (onReady) {\n      onReady(graph);\n    }\n\n    return function () {\n      if (graphs[graphId]) {\n        graphs[graphId].destroy();\n        delete graphs[graphId];\n      }\n    };\n  }, []);\n  return React.createElement(ErrorBoundary, {\n    errorTemplate: errorTemplate\n  }, loading && React.createElement(ChartLoading, {\n    loadingTemplate: loadingTemplate\n  }), React.createElement(\"div\", {\n    className: className,\n    style: style,\n    ref: container\n  }));\n};\n\nexport default IndentedTreeGraph;","map":{"version":3,"sources":["D:/SQL/sqlindex2/sql/frontend/node_modules/@ant-design/charts/es/obsolescent/graphs/indentedTreeGraph/index.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","G6","ErrorBoundary","useGraph","ChartLoading","getGraphSize","getGraphId","useProps","bindDefaultEvents","renderGraph","getDefaultEdgeArrowCfg","registerCardNode","defaultNodeAnchorPoints","defaultNodeSize","defaultStateStyles","defaultNodeStyle","graphs","defaultLayout","type","direction","getId","d","id","getHeight","getWidth","getVGap","getHGap","defaultProps","nodeType","edgeType","behaviors","nodeAnchorPoints","nodeSize","layout","animate","markerPosition","nodeStateStyles","edgeStateStyles","collapseExpand","showArrow","arrowType","autoFit","style","height","IndentedTreeGraph","props","uProps","data","className","width","_a","_b","_c","_d","_e","_f","nodeStyle","edgeStyle","edgeCfg","markerStyle","_g","_h","_j","_k","titleStyle","bodyStyle","footerStyle","footerValueStyle","_l","_m","_o","onReady","loading","loadingTemplate","errorTemplate","container","useRef","graph","graphId","graphSize","TreeGraph","current","modes","default","defaultNode","size","anchorPoints","defaultEdge","node","edge","stroke","destroy","createElement","ref"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React, { useEffect } from 'react';\r\nimport G6 from '@antv/g6';\r\nimport { ErrorBoundary } from '../../../base';\r\nimport useGraph from '../../../hooks/useGraph';\r\nimport ChartLoading from '../../../util/createLoading';\r\nimport { getGraphSize, getGraphId, useProps } from '../utils';\r\nimport { bindDefaultEvents, renderGraph, getDefaultEdgeArrowCfg } from '../utils';\r\nimport { registerCardNode } from '../customItems';\r\nimport { defaultNodeAnchorPoints, defaultNodeSize, defaultStateStyles, defaultNodeStyle, } from '../constants';\r\nvar graphs = {};\r\nregisterCardNode();\r\nvar defaultLayout = {\r\n    type: 'compactBox',\r\n    direction: 'LR',\r\n    getId: function (d) {\r\n        return d.id;\r\n    },\r\n    getHeight: function () {\r\n        return 60;\r\n    },\r\n    getWidth: function () {\r\n        return 16;\r\n    },\r\n    getVGap: function () {\r\n        return 16;\r\n    },\r\n    getHGap: function () {\r\n        return 100;\r\n    },\r\n};\r\nvar defaultProps = {\r\n    nodeType: 'card',\r\n    edgeType: 'cubic-horizontal',\r\n    behaviors: ['zoom-canvas', 'drag-canvas'],\r\n    nodeAnchorPoints: defaultNodeAnchorPoints,\r\n    nodeSize: defaultNodeSize,\r\n    layout: defaultLayout,\r\n    animate: true,\r\n    markerPosition: 'right',\r\n    nodeStateStyles: defaultStateStyles,\r\n    edgeStateStyles: defaultStateStyles,\r\n    collapseExpand: true,\r\n    showArrow: true,\r\n    arrowType: 'vee',\r\n    autoFit: true,\r\n    style: {\r\n        height: 'inherit',\r\n    },\r\n};\r\nvar IndentedTreeGraph = function (props) {\r\n    var uProps = useProps(props, defaultProps);\r\n    var data = uProps.data, className = uProps.className, style = uProps.style, width = uProps.width, height = uProps.height, _a = uProps.nodeType, nodeType = _a === void 0 ? 'card' : _a, _b = uProps.edgeType, edgeType = _b === void 0 ? 'cubic-horizontal' : _b, _c = uProps.behaviors, behaviors = _c === void 0 ? ['zoom-canvas', 'drag-canvas'] : _c, _d = uProps.nodeAnchorPoints, nodeAnchorPoints = _d === void 0 ? defaultNodeAnchorPoints : _d, _e = uProps.nodeSize, nodeSize = _e === void 0 ? defaultNodeSize : _e, layout = uProps.layout, _f = uProps.animate, animate = _f === void 0 ? true : _f, nodeStyle = uProps.nodeStyle, edgeStyle = uProps.edgeStyle, edgeCfg = uProps.edgeCfg, markerStyle = uProps.markerStyle, _g = uProps.markerPosition, markerPosition = _g === void 0 ? 'right' : _g, _h = uProps.nodeStateStyles, nodeStateStyles = _h === void 0 ? defaultStateStyles : _h, _j = uProps.edgeStateStyles, edgeStateStyles = _j === void 0 ? defaultStateStyles : _j, _k = uProps.collapseExpand, collapseExpand = _k === void 0 ? true : _k, titleStyle = uProps.titleStyle, bodyStyle = uProps.bodyStyle, footerStyle = uProps.footerStyle, footerValueStyle = uProps.footerValueStyle, _l = uProps.showArrow, showArrow = _l === void 0 ? true : _l, _m = uProps.arrowType, arrowType = _m === void 0 ? 'vee' : _m, _o = uProps.autoFit, autoFit = _o === void 0 ? true : _o, onReady = uProps.onReady, loading = uProps.loading, loadingTemplate = uProps.loadingTemplate, errorTemplate = uProps.errorTemplate;\r\n    var container = React.useRef(null);\r\n    var graph = React.useRef(null);\r\n    var graphId = getGraphId(graph);\r\n    useGraph(graphs[graphId], uProps, container);\r\n    useEffect(function () {\r\n        var graphSize = getGraphSize(width, height, container);\r\n        var graph = graphs[graphId];\r\n        if (!graph) {\r\n            graph = new G6.TreeGraph({\r\n                container: container.current,\r\n                width: graphSize[0],\r\n                height: graphSize[1],\r\n                animate: animate,\r\n                modes: {\r\n                    default: behaviors,\r\n                },\r\n                defaultNode: {\r\n                    type: nodeType,\r\n                    size: nodeSize,\r\n                    anchorPoints: nodeAnchorPoints,\r\n                    titleStyle: titleStyle,\r\n                    bodyStyle: bodyStyle,\r\n                    footerStyle: footerStyle,\r\n                    footerValueStyle: footerValueStyle,\r\n                    markerStyle: markerStyle,\r\n                    collapseExpand: collapseExpand,\r\n                    markerPosition: markerPosition,\r\n                },\r\n                defaultEdge: {\r\n                    type: edgeType,\r\n                },\r\n                nodeStateStyles: nodeStateStyles,\r\n                edgeStateStyles: edgeStateStyles,\r\n                layout: layout,\r\n            });\r\n            graphs[graphId] = graph;\r\n        }\r\n        graph.node(function (node) {\r\n            if (typeof nodeStyle === 'function') {\r\n                return {\r\n                    style: nodeStyle(node, graph),\r\n                };\r\n            }\r\n            return {\r\n                style: __assign(__assign({}, defaultNodeStyle), nodeStyle),\r\n            };\r\n        });\r\n        graph.edge(function (edge) {\r\n            if (edgeCfg) {\r\n                return typeof edgeCfg === 'function' ? edgeCfg(edge, graph) : edgeCfg;\r\n            }\r\n            if (typeof edgeStyle === 'function') {\r\n                return {\r\n                    style: edgeStyle(edge, graph),\r\n                };\r\n            }\r\n            return {\r\n                style: __assign(__assign({ stroke: '#ccc' }, (showArrow && getDefaultEdgeArrowCfg(0, arrowType))), edgeStyle),\r\n            };\r\n        });\r\n        if (collapseExpand) {\r\n            bindDefaultEvents(graph, collapseExpand);\r\n        }\r\n        renderGraph(graph, data, autoFit);\r\n        if (onReady) {\r\n            onReady(graph);\r\n        }\r\n        return function () {\r\n            if (graphs[graphId]) {\r\n                graphs[graphId].destroy();\r\n                delete graphs[graphId];\r\n            }\r\n        };\r\n    }, []);\r\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\r\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate }),\r\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\r\n};\r\nexport default IndentedTreeGraph;\r\n"]},"metadata":{},"sourceType":"module"}