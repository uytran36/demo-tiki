{"ast":null,"code":"import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\n\nfunction _deepMix(dist, src, level, maxLevel) {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      var value = src[key];\n\n      if (value !== null && isPlainObject(value)) {\n        if (!isPlainObject(dist[key])) {\n          dist[key] = {};\n        }\n\n        if (level < maxLevel) {\n          _deepMix(dist[key], value, level + 1, maxLevel);\n        } else {\n          dist[key] = src[key];\n        }\n      } else if (isArray(value)) {\n        dist[key] = [];\n        dist[key] = dist[key].concat(value);\n      } else if (value !== undefined) {\n        dist[key] = value;\n      }\n    }\n  }\n} // todo 重写\n\n\nvar deepMix = function (rst) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < args.length; i += 1) {\n    _deepMix(rst, args[i]);\n  }\n\n  return rst;\n};\n\nexport default deepMix;","map":{"version":3,"sources":["../src/deep-mix.ts"],"names":[],"mappings":"AAAA,OAAO,OAAP,MAAoB,YAApB;AACA,OAAO,aAAP,MAA0B,mBAA1B;AAEA,IAAM,aAAa,GAAG,CAAtB;;AAEA,SAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,KAA7B,EAAqC,QAArC,EAA8C;AAC5C,EAAA,KAAK,GAAG,KAAK,IAAI,CAAjB;AACA,EAAA,QAAQ,GAAG,QAAQ,IAAI,aAAvB;;AACA,OAAK,IAAM,GAAX,IAAkB,GAAlB,EAAuB;AACrB,QAAI,GAAG,CAAC,cAAJ,CAAmB,GAAnB,CAAJ,EAA6B;AAC3B,UAAM,KAAK,GAAG,GAAG,CAAC,GAAD,CAAjB;;AACA,UAAI,KAAK,KAAK,IAAV,IAAkB,aAAa,CAAC,KAAD,CAAnC,EAA4C;AAC1C,YAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAD,CAAL,CAAlB,EAA+B;AAC7B,UAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,EAAZ;AACD;;AACD,YAAI,KAAK,GAAG,QAAZ,EAAsB;AACpB,UAAA,QAAQ,CAAC,IAAI,CAAC,GAAD,CAAL,EAAY,KAAZ,EAAmB,KAAK,GAAG,CAA3B,EAA8B,QAA9B,CAAR;AACD,SAFD,MAEO;AACL,UAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,GAAG,CAAC,GAAD,CAAf;AACD;AACF,OATD,MASO,IAAI,OAAO,CAAC,KAAD,CAAX,EAAoB;AACzB,QAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,EAAZ;AACA,QAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,IAAI,CAAC,GAAD,CAAJ,CAAU,MAAV,CAAiB,KAAjB,CAAZ;AACD,OAHM,MAGA,IAAI,KAAK,KAAK,SAAd,EAAyB;AAC9B,QAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,KAAZ;AACD;AACF;AACF;AACF,C,CAED;;;AACA,IAAM,OAAO,GAAG,UAAS,GAAT,EAAgB;AAAE,MAAA,IAAA,GAAA,EAAA;;OAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAa;AAAb,IAAA,IAAA,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AAChC,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAAI,CAAC,MAAzB,EAAiC,CAAC,IAAI,CAAtC,EAAyC;AACvC,IAAA,QAAQ,CAAC,GAAD,EAAM,IAAI,CAAC,CAAD,CAAV,CAAR;AACD;;AACD,SAAO,GAAP;AACD,CALD;;AAOA,eAAe,OAAf","sourceRoot":"","sourcesContent":["import isArray from './is-array';\r\nimport isPlainObject from './is-plain-object';\r\nvar MAX_MIX_LEVEL = 5;\r\nfunction _deepMix(dist, src, level, maxLevel) {\r\n    level = level || 0;\r\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\r\n    for (var key in src) {\r\n        if (src.hasOwnProperty(key)) {\r\n            var value = src[key];\r\n            if (value !== null && isPlainObject(value)) {\r\n                if (!isPlainObject(dist[key])) {\r\n                    dist[key] = {};\r\n                }\r\n                if (level < maxLevel) {\r\n                    _deepMix(dist[key], value, level + 1, maxLevel);\r\n                }\r\n                else {\r\n                    dist[key] = src[key];\r\n                }\r\n            }\r\n            else if (isArray(value)) {\r\n                dist[key] = [];\r\n                dist[key] = dist[key].concat(value);\r\n            }\r\n            else if (value !== undefined) {\r\n                dist[key] = value;\r\n            }\r\n        }\r\n    }\r\n}\r\n// todo 重写\r\nvar deepMix = function (rst) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    for (var i = 0; i < args.length; i += 1) {\r\n        _deepMix(rst, args[i]);\r\n    }\r\n    return rst;\r\n};\r\nexport default deepMix;\r\n//# sourceMappingURL=deep-mix.js.map"]},"metadata":{},"sourceType":"module"}